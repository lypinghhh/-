### AUTHENTICATION

> 鉴权的逻辑，大部分在后端也就是服务器上运行，与Vue关系不大，但是在单页面应用中，对鉴权的处理比较特别，需要Vue参与

Firebase不用根据特定的后端语言或架构调整

##### 单页应用中鉴权工作原理

非单页面应用，鉴权的工作原理和传统web开发相同，只要管理和服务器之间的会话就行了，并没有什么特别，也和Vue无关。如果是一个Vue写的单页面应用，理解鉴权的工作原理就相当重要了。在单页面应用中同样有服务端和运行单页面应用的客户端，也就是浏览器。用户登陆或者注册时，我们把登陆信息发送到服务器，服务器就会检查这个信息是否正确。

在传统网页中传回的是一个会话，但在单页面应用中，调用的是 无状态的 不记录客户信息的 RESTful API,他不会保存会话，此时服务器传回的不是会话，而是令牌，令牌就会储存在服务器上。令牌通常是比较长的字符串，可以被解码，变成一个JavaScript对象，这个对象里面存储了用户的相关信息，包括令牌是否有效何时过期等。生成令牌的方式保证了，服务器可以验证这个令牌是否是自己生成的，这样就能知道这个令牌是真的还是伪造的。伪造的令牌不可能通过验证。我们把令牌存在前端，也就是浏览器里。比如用LocalStorageAPIv把令牌存在LocalStorage里，这就和Vue无关了，我们可以直接从浏览器里访问LocalStorage，如果要从一个API获取数据，而且这个API需要登录，只需随请求发送令牌，令牌就是鉴权的标志。令牌是用于验证用户身份的工具。

Firebase进入Authentication页面，就可以配置鉴权，选择用户登陆的方式，选择保存邮箱和密码

Database rules

"read":"auth!=null"

auth 是一个Firebase用于鉴权的对象，如果用户有权访问，这里就存储了用户的权限信息，null意味着用户没有被授权访问。通过检测auth对象是不是null，来检测用户是否被授权。

firebase auth rest api

